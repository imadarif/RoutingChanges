<section layout="row" flex>
    <div layout="vertical">
        <md-sidenav class="md-sidenav-right md-whiteframe-z2 checking1" md-component-id="right">

            <md-content ng-controller="RightCtrl">
                <md-tabs md-dynamic-height md-border-bottom>
                    <md-tab label="Projects">
                        <md-content>
                            <md-list id="Projects-desc">
                                <md-list-item class="md-3-line" ng-repeat="project in checking.projectDetail" >
                                    <div class="md-list-item-text" id="Projects" style="padding-left: 10px;">
                                        <h3>{{ project.projectname }}</h3>

                                        <div>
                                            <label>Over Due</label>    |     <label>Due Soon</label><br>
                                            <label>{{ project.overdue }}</label>  <label>{{ project.duesoon }}</label>
                                        </div>

                                        <div>
                                            <label>Members</label>
                                            {{ project.members }}

                                            <label>Tasks</label>
                                            {{ project.tasks }}
                                        </div>

                                    </div>
                                </md-list-item>
                            </md-list>
                        </md-content>
                    </md-tab>

                    <md-tab label="My Tasks">
                        <md-content class="md-padding">
                            <h1 class="md-display-2">My Tasks</h1>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla venenatis ante augue. Phasellus volutpat neque ac dui mattis vulputate. Etiam consequat aliquam cursus. In sodales pretium ultrices. Maecenas lectus est, sollicitudin consectetur felis nec, feugiat ultricies mi. Aliquam erat volutpat. Nam placerat, tortor in ultrices porttitor, orci enim rutrum enim, vel tempor sapien arcu a tellus. Vivamus convallis sodales ante varius gravida. Curabitur a purus vel augue ultrices ultricies id a nisl. Nullam malesuada consequat diam, a facilisis tortor volutpat et. Sed urna dolor, aliquet vitae posuere vulputate, euismod ac lorem. Sed felis risus, pulvinar at interdum quis, vehicula sed odio. Phasellus in enim venenatis, iaculis tortor eu, bibendum ante. Donec ac tellus dictum neque volutpat blandit. Praesent efficitur faucibus risus, ac auctor purus porttitor vitae. Phasellus ornare dui nec orci posuere, nec luctus mauris semper.</p>
                        </md-content>
                    </md-tab>

                    <md-tab label="Closed Tasks">
                        <md-content class="md-padding">
                            <h1 class="md-display-2">Closed Tasks</h1>
                            <p>Integer turpis erat, porttitor vitae mi faucibus, laoreet interdum tellus. Curabitur posuere molestie dictum. Morbi eget congue risus, quis rhoncus quam. Suspendisse vitae hendrerit erat, at posuere mi. Cras eu fermentum nunc. Sed id ante eu orci commodo volutpat non ac est. Praesent ligula diam, congue eu enim scelerisque, finibus commodo lectus.</p>
                        </md-content>
                    </md-tab>
                </md-tabs>
            </md-content>
            <div class="sideNav-add-position">
                <section layout="row" layout-sm="column" layout-align="center center">
                    <md-button class="md-fab" ng-click="checking.addproject($event)">
                        <ng-md-icon  icon="add" style="fill: white;" size="20" ></ng-md-icon>
                    </md-button>
                </section>
            </div>
        </md-sidenav>
    </div>
</section>



<md-toolbar style="background-color: white ;border-bottom: 1px solid #cccccc;">

        <div class="md-toolbar-tools" id="hello">
        <md-select ng-change="checking.Select(project.$id)" ng-model="project" md-on-open="checking.loadUsers()" style="width: 300px; color: grey">
            <md-select-label >{{ project ? project.title : 'Project Name' }}</md-select-label>
            <md-option ng-value="project" ng-repeat="project in checking.projects">{{project.title}}</md-option>
        </md-select>

        <div class="search-box-cont">
            <md-autocomplete
                    ng-disabled="checking.isDisabled"

                    md-selected-item="checking.selectedItem"
                    md-search-text-change="checking.searchTextChange(checking.searchText)"
                    md-search-text="checking.searchText"
                    md-selected-item-change="checking.selectedItemChange(item)"
                    md-items="item in checking.querySearch(checking.searchText)"
                    md-item-text="item.display"
                    md-min-length="0"
                    placeholder="Search"
                    class="search-box">

                <md-item-template>
                    <span class="item-title">
                        <md-icon md-svg-icon="img/icons/octicon-repo.svg"></md-icon>
                        <span> {{item.name}} </span>
                    </span>

                    <span class="item-metadata">
                        <span class="item-metastat">
                            <strong>{{item.watchers}}</strong> watchers
                        </span>

                        <span class="item-metastat">
                            <strong>{{item.forks}}</strong> forks
                        </span>
                    </span>
                </md-item-template>

            </md-autocomplete>
        </div>

        <span flex></span>

        <md-button class="md-raised md-primary" ng-click="checking.addProjectList(project.$id,ev)">
            BUTTON 1<!--<md-icon md-svg-icon="img/icons/favorite.svg" style="color: greenyellow;"></md-icon>-->
        </md-button>

        <ng-md-icon icon="menu" style="fill: grey" size="24" ng-click="checking.toggleRight()"></ng-md-icon>

    </div>
</md-toolbar>



<div layout="row" style=" background-color: #f2efef;width: auto;overflow-x: scroll" flex id="mainCart" >

            <md-list ng-repeat="(listName, list) in checking.models.lists"  class="list-style">
                    <md-card id="card-alignment" ng-init=" Outerindex = $index " style="width: 444px">

                    <!--<md-card-content style=" max-height: 607px;-->
                                              <!--overflow: auto;-->
                                              <!--padding: 0;">-->

                        <md-toolbar  layout="row" class="{{list.color}}" >
                            <div>
                                <h2 class="md-toolbar-tools" >
                                    <span > {{ list.name }}</span> <span style="color: grey;"> 0</span>
                                </h2>
                            </div>


                            <div class="color-dialog-position">
                                <md-select class="md-toolbar-tools custom-md-select" ng-model="">

                                    <md-option ng-click="checking.rename($event,Outerindex,listName,project.$id)" >Rename Column</md-option>
                                    <md-option ng-click="checking.deleteProjectList($event,project.$id,listName)">Delete Column</md-option>

                                    <div style="border-top: 1px solid #cccccc; padding: 10px;padding-bottom: 0;">
                                        <svg ng-repeat="color in checking.colors.colour" class="circle1">
                                                <circle  ng-click="checking.selectedColor(project.$id,color,$index,Outerindex,listName)"
                                                                ng-attr-cx={{checking.colors.x}}
                                                                ng-attr-cy={{checking.colors.y}}
                                                                ng-attr-r={{checking.colors.r}}
                                                                fill={{color}} />
                                        </svg>
                                        <!--<md-option class="circle1" ng-repeat="color in checking.colors"></md-option>-->
                                    </div>
                                </md-select>
                            </div>

                        </md-toolbar>


                        <md-content style="background-color: #cccccc;" id="input-toolbar">

                            <ul dnd-list="listName" style="padding: 8px 5px 0 5px !important; " id="hell">
                                <md-card  class="md-3-line checking" ng-repeat="(listIndex,item) in list.task"
                                         dnd-draggable="item"
                                         dnd-moved="list.splice($index, 1)"
                                         dnd-drag-value = "listIndex"
                                         dnd-selected-list="listName"
                                         dnd-project-id="project.$id"
                                         dnd-effect-allowed="move"
                                         dnd-selected="models.selected = item"
                                         ng-class="{'selected': models.selected === item}">

                                    <md-card-content>
                                        <div class="md-list-item-text" >
                                            <h3>{{item.task}}</h3>
                                            <!--<p>{{item.desc}}</p>-->
                                             <div>
                                                 <ng-md-icon icon="visibility" style="fill: grey" size="20"></ng-md-icon>
                                                 <ng-md-icon icon="menu" style="fill: grey" size="20"></ng-md-icon>
                                                 <ng-md-icon icon="chat" style="fill: grey" size="20"></ng-md-icon>
                                                 <ng-md-icon icon="attach_file" style="fill: grey" size="20"></ng-md-icon>
                                             </div>
                                        </div>
                                    </md-card-content>

                                </md-card>

                            </ul>
                            <!--<md-toolbar style="background-color: #cccccc" >-->

                                <!--
                                                                <div layout="column" layout-align="center center" id="testing-input" ng-click="checking.inputClick()">
                                -->
                                <!-- <div style="width: 100%">
                                     <input placeholder="Create new task...." class="input-box">
                                 </div>

                                 <div style="width: 100%" class="input-button-transition">

                                     <input style="width: 100%">
                                     <md-button class="md-raised md-primary" style="background-color: green">Create</md-button>
                                     <md-button class="md-raised md-primary">Cancel</md-button>
                                 </div>
                             -->

                                <!--<input type="checkbox"  id="toggle" />-->
                                <!--<label for="toggle" style="cursor: text;content:' '" ng-click="checking.inputClick(Outerindex)"></label>-->


                                <!--<div class="message">-->
                                    <!--<div layout="row" layout-align="center center">-->
                                        <!--<input type="text"  style="width: 95%;" ng-model="checking.listTask.task">-->
                                    <!--</div>-->


                                    <!--<md-button class="md-raised" ng-click="checking.newTask(project.$id,listName)">Create</md-button>-->
                                    <!--<md-button>Cancel</md-button>-->

                                <!--</div>-->

                            <!--</md-toolbar>-->

                        </md-content>




                       <md-toolbar style="background-color: #cccccc">
                            <div layout="column" layout-align="center center" id="testing-input" ng-show = "" ng-click="checking.inputClick(listName,$index,Outerindex)">
                                <div style="width: 100%">
                                    <input placeholder="Create new task...." class="input-box" >
                                </div>

                                <div  class="input-button-transition">

                                    <input style="width: 100%" ng-model="checking.listTask.task">
                                    <md-button class="md-raised md-primary" style="background-color: green" ng-click="checking.newTask(project.$id,listName)">Create</md-button>
                                    <md-button class="md-raised " ng-click="checking.cancelTask(Outerindex)">Cancel</md-button>

                                </div>
                            </div>
                        </md-toolbar>

<!--
                    </md-card-content>
-->




                </md-card>

            </md-list>

        </div>





